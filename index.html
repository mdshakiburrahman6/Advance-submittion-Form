<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    
    
    <!-- CSS -->
    
    <style>
        :root{
           --primary-color: #319BB5;
           --accent-color: #24d2fd;
        }
        /* Progress */
        .msr-progress {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            position: relative;
            gap: 50px;
        }

        .msr-progress::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 3px;
            background: #e5e5e5;
            transform: translateY(-50%);
            z-index: 0;
        }

        .msr-progress-step {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #e5e5e5;
            color: #555;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1;
        }

        .msr-progress-step.active {
            background: #0d6efd; /* bootstrap primary */
            color: #fff;
        }

        /* Global */
        .msr-multi-step-form input, .msr-multi-step-form select{
            border: 1px solid #319bb5b6;
            border-radius: 5px;
            background-color: #f3fcff;
            height: 3rem;
            padding: 5px 10px;
        }
        .msr-multi-step-form input:focus{
            border: 1px solid #319bb5b6;
        }
        .msr-prev, .msr-prev, .msr-next, .msr_submit_form{
            font-size: 1.2rem;
            color: #fff;
            padding: 10px 42px;
            border: 1px solid #319BB5;
            border-radius: 5px;
            background-color: var(--primary-color);
        }
        .form-checkbox{
            border: 1px solid #319bb5b6;
            border-radius: 5px;
            background-color: #f3fcff;
            height: auto !important;
            /* padding: 5px 10px; */
        }

        /* Form Col */
        .step-col-3{
            display: flex;
            flex-direction: column;
            gap: 10px;
            width: 33.33%;
        }
        .step-col-4{
            display: flex;
            flex-direction: column;
            gap: 10px;
            width: 50%;
        }

        /* Main */
            .form-area {
                position: relative;
                width: 100%;
            }

            .msr-form-body{
                margin: 80px 0;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                gap: 50px;
            }
            .msr-step {
                position: absolute;
                width: 100%;
                opacity: 0;
                transform: translateX(30px);
                pointer-events: none;
                transition:
                    opacity 0.4s ease,
                    transform 0.4s ease;
            }

            .msr-step.active {
                position: relative;
                opacity: 1;
                transform: translateX(0);
                pointer-events: auto;
            }


            .step-area{
                display: flex;
                flex-direction: column;
                gap: 30px;
            }
            .step-header{
                font-size: 3rem;
                font-weight: 400;
                color: var(--primary-color);
            }
            .form-fields{
                display: flex;
                flex-direction: column;
                justify-content: start;
                gap: 20px;
            }
            .form-button{
                margin-top: 10px;
                display:  flex;
                gap: 30px;
                justify-content: center;
            }

            /* Behalf Style */
            .behalf{
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 10px;
            }
            .after_behalf {
                display: flex;
                overflow: hidden;
                max-height: 0;
                opacity: 0;
                transform: translateY(-10px);
                transition: 
                    max-height 0.5s ease,
                    opacity 0.4s ease,
                    transform 0.4s ease;
            }

            .after_behalf.active {
                max-height: 500px; /* enough height */
                opacity: 1;
                transform: translateY(0);
            }

            .behalf-item{
                display: flex;
                flex-direction: column;
                gap: 10px;
                width: 33.33%;
            }
            .mar-l{
                margin-left: 20px;
            }
            /* Step-1 Styles */
            .step-1-top , .step-1-bottom{
                display: flex;
                justify-content: space-between;
                align-items: center;
                gap: 20px;
            }
            .step-item{
                display: flex;
                flex-direction: column;
                gap: 10px;
                width: 25%;
            }
            .form-condition{
                display: flex;
                flex-direction: column;
            }
            .condition-item{
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 10px;
            }
            .condition-item a{
                color: var(--primary-color);
            }
            .condition-item a:hover{
                color: var(--accent-color);
            }
    </style>



</head>
<body>




    <!-- Content -->
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <section class="msr-form-body">
                <div class="msr-progress">
                    <div class="msr-progress-step active" data-step="1">1</div>
                    <div class="msr-progress-step" data-step="2">2</div>
                    <div class="msr-progress-step" data-step="3">3</div>
                    <div class="msr-progress-step" data-step="4">4</div>
                </div>

                <div class="form-area">
                    <form method="post" class="msr-multi-step-form">

                        <!-- STEP 1 -->
                        <div class="msr-step active">
                            <div class="step-area">
                                <div class="step-bar">
                                    <h4 class="step-header">Check your benefits to start an order</h4>
                                </div>
                                <div class="form-fields">
                                    <!-- Checkbox for behalf  -->
                                    <div class="behalf text-center mb-2">
                                        <input class="form-checkbox" type="checkbox" name="mrs_s-1_behalf" id="mrs_s-1_behalf">
                                        <label for="mrs_s-1_behalf">Check here if you are filling out this form on behalf of another person.</label>
                                    </div>
                                    <!-- If behalf -->
                                    <div class="after_behalf">
                                        <div class="behalf-item">
                                            <label for="relation_cgm">Relationship to CGM User*</label>
                                            <select name="relation_cgm" id="relation_cgm" required>
                                                <option value="">Please select the best answer.</option>
                                                <option value="Parent">Parent</option>
                                                <option value="Grandparent">Grandparent</option>
                                                <option value="Healthcare Provider">Healthcare Provider</option>
                                                <option value="Other">Other</option>
                                            </select>
                                        </div>
                                        <div class="behalf-item mar-l">
                                             <label for="behalf_first_name">Your First Name*</label>
                                            <input type="text" name="behalf_first_name" id="behalf_first_name" required>
                                        </div>
                                        <div class="behalf-item mar-l">
                                            <label for="behalf_last_name">Your Last Name*</label>
                                            <input type="text" name="behalf_last_name" id="behalf_last_name" required>
                                        </div>
                                    </div>

                                    <!-- Main Content (s-1) -->
                                    
                                    <div class="step-1-top">
                                        <div class="step-item">
                                            <label for="msr_s_1_title">Title</label>
                                            <select name="msr_s_1_title" id="msr_s_1_title">
                                                <option value="">Select title</option>
                                                <option value="Mr.">Mr.</option>
                                                <option value="Mrs.">Mrs.</option>
                                                <option value="Ms.">Ms.</option>
                                            </select>
                                        </div>
                                        <div class="step-item">
                                            <label for="msr_s_1_first_name">First Name*</label>
                                            <input type="text" name="msr_s_1_first_name" required>
                                        </div>
                                        <div class="step-item">
                                            <label for="msr_s_1_last_name">Last Name*</label>
                                            <input type="text" name="msr_s_1_last_name" required>
                                        </div>
                                        <div class="step-item">
                                            <label for="msr_s_1_birth">Date of Birth*</label>
                                            <input type="date" name="msr_s_1_birth" required>
                                        </div>
                                    </div>

                                    <div class="step-1-bottom">
                                        <div class="step-col-3">
                                            <label for="msr_s_1_title">Device Preference*</label>
                                            <select name="msr_s_1_title" id="msr_s_1_title" required>
                                                <option value="">Select device</option>
                                                <option value="Dexcom G7 15 day">Dexcom G7 15 day</option>
                                                <option value="Dexcom G7 CGM System">Dexcom G7 CGM System</option>
                                                <option value="Dexcom G6 CGM System">Dexcom G6 CGM System</option>
                                                <option value="FreeStyle Libre 3 Plus System">FreeStyle Libre 3 Plus System</option>
                                                <option value="FreeStyle Libre 2 Plus ">FreeStyle Libre 2 Plus </option>
                                                <option value="Medtronic Instinct Sensor">Medtronic Instinct Sensor</option>
                                                <option value="Medtronic Simplera Sync™ Sensor">Medtronic Simplera Sync™ Sensor</option>
                                            </select>
                                        </div>
                                        <div class="step-col-3">
                                            <label for="msr_s_1_title">E-mail*</label>
                                            <input type="email" name="msr_email" required>
                                        </div>
                                        <div class="step-col-3">
                                            <label for="msr_s_1_title">Phone Number*</label>
                                            <input type="tel" name="msr_phone" id="msr_phone" required>
                                        </div>
                                    </div>
                                    <!-- ---------()---------- -->
                                     <div class="form-condition">
                                        <div class="condition-item">
                                            <input class="form-checkbox" type="checkbox" name="mrs_con_privacy" id="mrs_con_privacy" required>
                                            <label for="mrs_con_privacy">I agree that my information will be used as described on this page and in the Edgepark <a href="#">Notice of Privacy Practices</a></label>
                                        </div>
                                        <div class="condition-item">
                                            <input class="form-checkbox" type="checkbox" name="mrs_con_privacy" id="mrs_con_privacy" required>
                                            <label for="mrs_con_privacy">I agree to enroll to receive real-time order updates via text message/SMS. <a href="#">Terms & Conditions</a></label>
                                        </div>
                                     </div>
                                    
                                </div>
                                <div class="form-button">
                                    <button type="button" class="msr-prev">Back</button>
                                    <button type="button" class="msr-next">Next</button>
                                </div>
                            </div>
                        </div>





                        <!-- STEP 2 -->
                        <div class="msr-step">
                            <div class="step-area">
                                <div class="step-bar">
                                    <h4>Step 2: Contact Info</h4>
                                </div>
                                <div class="form-fields">
                                    <input type="email" name="msr_email" placeholder="Your Email" required>
                                </div>
                                <div class="form-button">
                                    <button type="button" class="msr-prev">Back</button>
                                    <button type="button" class="msr-next">Next</button>
                                </div>
                            </div>
                        </div>





                        <!-- STEP 3 -->
                        <div class="msr-step">
                            <div class="step-area">
                                <div class="step-bar">
                                    <h4>Step 3: Contact Info</h4>
                                </div>
                                <div class="form-fields">
                                    <input type="email" name="msr_email" placeholder="Your Email" required>
                                </div>
                                <div class="form-button">
                                    <button type="button" class="msr-prev">Back</button>
                                    <button type="button" class="msr-next">Next</button>
                                </div>
                            </div>
                        </div>





                        <!-- STEP 4 -->
                        <div class="msr-step">

                            <div class="step-area">
                                <div class="step-bar">
                                    <h4>Step 2: Confirm & Submit</h4>
                                </div>
                                <div class="form-fields">
                                    <p>Please review your information and submit.</p>
                                    <input type="email" name="msr_email" placeholder="Your Email" required>
                                </div>
                                <div class="form-button">
                                    <button type="button" class="msr-prev">Back</button>
                                    <button type="submit" class="msr_submit_form" name="msr_submit_form">Submit</button>
                                </div>
                            </div>
                            
                            
                        
                        </div>

                    </form>
                </div>
            </section>
        </div>
    </div>
</div>



<!-- JS -->
<script>
document.addEventListener('DOMContentLoaded', function () {

    const steps = document.querySelectorAll('.msr-step');
    let currentStep = 0;

    function showStep(index) {
        steps.forEach(step => step.classList.remove('active'));
        steps[index].classList.add('active');
    }

    function validateStep(step) {
        const inputs = step.querySelectorAll('input, textarea');
        for (let input of inputs) {
            if (!input.checkValidity()) {
                input.reportValidity();
                return false;
            }
        }
        return true;
    }

    document.querySelectorAll('.msr-next').forEach(btn => {
        btn.addEventListener('click', () => {
            if (!validateStep(steps[currentStep])) return;

            if (currentStep < steps.length - 1) {
                currentStep++;
                showStep(currentStep);
            }
        });
    });

    document.querySelectorAll('.msr-prev').forEach(btn => {
        btn.addEventListener('click', () => {
            if (currentStep > 0) {
                currentStep--;
                showStep(currentStep);
            }
        });
    });

    showStep(currentStep);

});
document.addEventListener('DOMContentLoaded', function () {

    const steps = document.querySelectorAll('.msr-step');
    const progressSteps = document.querySelectorAll('.msr-progress-step');
    let currentStep = 0;

    function showStep(index) {
        steps.forEach(step => step.classList.remove('active'));
        steps[index].classList.add('active');

        progressSteps.forEach((p, i) => {
            p.classList.toggle('active', i <= index);
        });
    }

    function validateStep(step) {
        const inputs = step.querySelectorAll('input, textarea');
        for (let input of inputs) {
            if (!input.checkValidity()) {
                input.reportValidity();
                return false;
            }
        }
        return true;
    }

    document.querySelectorAll('.msr-next').forEach(btn => {
        btn.addEventListener('click', () => {
            if (!validateStep(steps[currentStep])) return;
            if (currentStep < steps.length - 1) {
                currentStep++;
                showStep(currentStep);
            }
        });
    });

    document.querySelectorAll('.msr-prev').forEach(btn => {
        btn.addEventListener('click', () => {
            if (currentStep > 0) {
                currentStep--;
                showStep(currentStep);
            }
        });
    });

    showStep(currentStep);
});


// Behalf - Step -1
document.addEventListener('DOMContentLoaded', function () {

    const behalfCheckbox = document.getElementById('mrs_s-1_behalf');
    const behalfSection  = document.querySelector('.after_behalf');

    if (!behalfCheckbox || !behalfSection) return;

    // helper: toggle required fields
    function setRequired(state) {
        behalfSection.querySelectorAll('input, select').forEach(el => {
            if (state) {
                el.setAttribute('required', 'required');
            } else {
                el.removeAttribute('required');
                el.value = '';
            }
        });
    }

    function toggleBehalf(animate = true) {

        if (behalfCheckbox.checked) {

            // force reflow for smooth animation (important)
            if (animate) {
                behalfSection.style.display = 'flex';
                behalfSection.getBoundingClientRect();
            }

            behalfSection.classList.add('active');
            setRequired(true);

        } else {

            behalfSection.classList.remove('active');
            setRequired(false);

            // wait for CSS transition to finish, then clean up
            setTimeout(() => {
                if (!behalfCheckbox.checked) {
                    behalfSection.style.display = 'flex';
                }
            }, 500); // must match CSS transition time
        }
    }

    // Initial state (no animation on load)
    toggleBehalf(false);

    // Toggle on checkbox change (with animation)
    behalfCheckbox.addEventListener('change', () => toggleBehalf(true));

});

</script>



<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
</body>
</html>